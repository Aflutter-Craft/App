name: Web App
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - run: |
          git config --global user.email "abubakaryagob@gmail.com"
          git config --global user.name "Blacksuan19"
    - uses: actions/checkout@v2
    - uses: actions/setup-java@v1
      with:
        java-version: "12.x"
    - uses: subosito/flutter-action@v1.5.0
      with:
        channel: "master" # or: 'beta', 'dev' or 'master'
    - run: flutter pub get
    - run: flutter build web
    - run: cd build/web
    - run: git init && git checkout -b gh-pages
    - run: git remote add origin https://github.com/Aflutter-Craft/App
    - run: git fetch origin
    - run: git commit -m "Build Web App"
    - run: git push --force origin --set-upstream gh-pages